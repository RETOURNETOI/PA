<IfModule mod_rewrite.c>
    RewriteEngine On

    # Chemin de base pour MAMP si le document root est sur /public
    RewriteBase /

    # Redirige vers index.php si le fichier ou dossier n'existe pas
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php?url=$1 [L,QSA]

    # Redirection HTTPS (optionnel — utile uniquement si ton MAMP est configuré en HTTPS)
    RewriteCond %{HTTPS} off
    RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>

# Bloque l'accès aux fichiers sensibles
<FilesMatch "\.(env|log|htaccess|sql|ini|yml)$">
    Require all denied
</FilesMatch>

# Interdit le listing des répertoires
Options -Indexes
